{"instance_id": "facebook__zstd-1530", "rag_files": [{"filename": "1530.txt", "content": "repo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v06.c_BITv06.readBits.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_fse_compress.c_FSE_countFast.wksp.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_huf.h_HUF_compress4X.repeat.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD_estimateCCtxSize.usingCParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_dParam.getBounds.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_ZWRAP.setDecompressionType.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_compress.c_ZSTD.equivalentParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.h_anonymous.struct.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_programs_zstdcli.c.parseAdaptParameters.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_decompress.c_ZSTD_DStream.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_builders_fastCover_fastCover.c_FASTCOVER.checkParameters.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_compress.c_ZSTD_BtFindBestMatch.selectMLS.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_freeCResources.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_refreshRate.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.freeJobsTable.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT_serialState.update.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v03.c_ZSTD.wildcopy.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_FASTCOVER.checkParameters.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.releaseAllJobResources.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_defaultCMem.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.initJobCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_builders_fastCover_fastCover.c_FASTCOVER_tryParameters_data.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v06.c_ZSTDv06_frameHeaderSize.max.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT_CCtxParam.setNbWorkers.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v01.c_HUF.decodeSymbol.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_linux_zstd.h_ZSTD_CCtx.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT_overlapLog.default.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_prime4bytes.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_decompress.h_dictionary.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v04.h_ZBUFFv04_getErrorName_size_t.errorCode.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_setNbSeconds.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_programs_zstdcli.c.parseCoverParameters.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_XXH.free.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_extract.runTime.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_linux_zstd.h_ZSTD.DCtxWorkspaceBound.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_btrfs_zstd.c_zstd_get_btrfs.parameters.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_Range.h.MutableByteRange.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT_CCtxParam.setMTCtxParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v01.c_ZSTD.decodeSequence.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.expandJobsTable.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_programs_fileio.c.params.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_matching_ldm.c_anonymous.struct.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD.equivalentParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_CCtx.setParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT_createCCtx_advanced_unsigned_nbThreads_ZSTD_customMem.cMem.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_ldm.c_ZSTD_ldm.initializeParameters.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_ZDICT_optimizeTrainFromBuffer.fastCover.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD.resetCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_freeCompressionJobs.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_createCResources.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_internal.h.defaultCustomMem.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.writeLastEmptyBlock.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.h_ZSTDMT_CCtxParam.setMTCtxParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD.isUpdateAuthorized.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.createCompressionJob.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.compressionJob.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_compress.c_ZSTD_compressBlock_btopt.extDict.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v06.c_ZSTDv06.sizeofDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_btrfs_zstd.c_zstd_alloc_workspace.void.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_compress.c_ZSTD.copyCCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_CCtxParam.getParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT_createJobsTable_U32_nbJobsPtr_ZSTD_customMem.cMem.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_internal.h_ZSTD.defaultFreeFunction.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_decompress.c_FSE_update.state.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT_expandCCtxPool_ZSTDMT_CCtxPool_srcPool_unsigned.nbWorkers.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.getNbWorkers.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.h_ZSTDMT.nextInputSizeHint.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT_allocJobsTable_U32_nbJobsPtr_ZSTD_customMem.cMem.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_decompress.c_ZSTD_dParam.getBounds.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_anonymous.struct.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress_internal.h_ZSTD.resetSeqStore.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_COVER.checkParameters.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.h_ZSTDMT_createCCtx_unsigned.nbWorkers.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_estimateCCtxSize.advanced.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v04.c_ZBUFFv04.decompressInit.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_linux_zstd.h_ZSTD.CCtxWorkspaceBound.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.h_ZSTDMT.toFlushNow.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_zstd_internal.h_ZSTD.initStack.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_linux_zstd.h_ZSTD_CStream.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD_CCtx.setParametersUsingCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_decompress.c_compute.offset.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_zstd_internal.h_ZSTD_stackAllocAll_void_opaque_size_t.size.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v06.c_ZSTDv06.copy8.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD_CCtxParam.setParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.getMTCtxParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD.freeCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress_internal.h_ZSTD_CCtx.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v07.c_HUFv07.fillDTableX4Level2.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_ZDICT_getErrorName_size_t.errorCode.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.resize.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v07.c_ZSTDv07.blockHeaderSize.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD.getParamsFromCCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.releaseCCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD_CCtxParams.reset.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_internal.h_ZSTD_compressBegin_advanced.internal.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_decompress_internal.h_ZSTD.loadDEntropy.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_CCtxParams_init.advanced.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_g.one.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD.assignParamsToCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_decompress.c_ZSTD.generateNxBytes.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD_resetCCtx.byCopyingCDict.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD.equivalentLdmParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_decodeOnly.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_XXH64.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_decompress.c_ZSTD.setDStreamParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_decompress.c_ZSTD.estimateDCtxSize.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD.makeParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_DCtx.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_decompress.c_ZSTD_DCtx.setParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD_estimateCCtxSize_advanced.usingCParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v05.c_FSEv05_decompress.usingDTable.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v07.c_ZSTDv07.decompressDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD_cParam.getBounds.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.h_ZSTDMT_CCtxParam.setNbWorkers.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.initializeCCtxParameters.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v04.c_ZSTDv04_createDCtx.void.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_linux_zstd.h_ZSTD.CDictWorkspaceBound.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_zstd_opt.h_ZSTD_BtGetAllMatches.selectMLS.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_HUF.validateCTable.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT_createCCtx_advanced_unsigned_nbWorkers_ZSTD_customMem.cMem.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_CCtx.setPledgedSrcSize.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_initCCtxParams.advanced.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD_BtFindBestMatch.selectMLS.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_decompress.c_ZSTD_DCtx_refPrefix.advanced.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_compress.c_ZSTD.getParamsFromCDict.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v02.c_MEM.write16.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD.makeCCtxParamsFromCParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_setAdditionalParam.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD_CCtx.setParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_COVER.optimizeTrainFromBuffer.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD_CCtxParam.getParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_additionalParam.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_CCtxParam.setParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_randLength.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_DCtx.setParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_programs_zstdcli.c.defaultCoverParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_setRealTime.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD.cycleLog.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD.compressStream2.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_COVER_tryParameters_data.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.h_ZSTDMT.getNbWorkers.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_linux_zstd.h_ZSTD_DDict.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v02.c_ZSTD.blockHeaderSize.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v06.c_ZSTDv06.getFrameParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_FSE_buildDTable.rle.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v05.c_FSEv05_buildDTable.raw.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD.setCCtxParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD_initCCtxParams.advanced.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_setDictIDFlag.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_initCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_v07.c_ZSTDv07_stats.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT_CCtxParam.setNbThreads.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.h_ZSTDMT_updateCParams.whileCompressing.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_huf.h_HUF_buildCTable.wksp.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_decompress.c_ZSTD_dParam.withinBounds.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_CCtx_params.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.makeJobCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD_adjustCParams.internal.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_compress.c_ZSTD.freeCDict.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_g.debugLevel.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_setLdmFlag.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.compressChunk.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_compress.c_ZSTD.getCParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_setNbWorkers.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTD_initStaticCStream_void_workspace_size_t.workspaceSize.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_compress.c_ZSTD_compressBlock.btopt.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.computeOverlapSize.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.flushNextJob.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_zstd_compress.c_ZSTD.getParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_compress.c_ZSTDMT.compressStream.txt\nrepo_document_file\\c\\facebook\\zstd\\1530\\c_facebook_zstd_1530_createPreferences.void.txt"}], "buggy_files": [{"filename": "1530.txt", "content": "Looking at the GitHub problem description, I need to identify the issue and find the relevant files.\n\n## 1. Wrong Behavior Identified\n\nThe issue is that when `ZSTD_c_nbWorkers` is set after `ZSTD_c_overlapLog` (instead of before), the `ZSTD_c_overlapLog` parameter gets cleared/reset. This happens because setting `ZSTD_c_nbWorkers` calls `ZSTDMT_CCtxParam_setNbWorkers()`, which has the undocumented side-effect of clearing `params->overlapLog` and `params->jobSize`.\n\n## 2. Cause Analysis\n\nThe root cause is in the `ZSTDMT_CCtxParam_setNbWorkers()` function, which clears certain parameters as a side-effect when setting the number of workers. This behavior is not documented in the `ZSTD_cParameter` documentation in `zstd.h`, leading to unexpected behavior when parameters are set in the wrong order.\n\n## 3. Most Related Files\n\nBased on the repository information and the problem description, the files most related to this issue are:\n\n```\nlib/zstd.h\nlib/compress/zstdmt/compress.c\nlib/compress/zstdmt/compress.h\nlib/compress/zstd/compress.c\n```\n\nThese files are most relevant because:\n1. `lib/zstd.h` - Contains the `ZSTD_cParameter` documentation that needs to be updated to document this behavior\n2. `lib/compress/zstdmt/compress.c` - Contains the `ZSTDMT_CCtxParam_setNbWorkers()` function that causes the side-effect\n3. `lib/compress/zstdmt/compress.h` - Header file for the multi-threaded compression functions\n4. `lib/compress/zstd/compress.c` - Main compression implementation that may handle parameter setting"}], "repair_results": [{"filename": "lib_compress_zstdmt_compress.c.txt", "content": "Looking at the issue, the problem is that when `ZSTD_c_nbWorkers` is set via `ZSTDMT_CCtxParam_setNbWorkers()`, it has the side-effect of clearing `params->overlapLog` and `params->jobSize`. This behavior is not documented, and users need to know they should set `ZSTD_c_nbWorkers` before setting `ZSTD_c_jobSize` or `ZSTD_c_overlapLog`.\n\nLet me locate the bug in the code:\n\n```c\nsize_t ZSTDMT_CCtxParam_setNbWorkers(ZSTD_CCtx_params* params, unsigned nbWorkers)\n{\n    if (nbWorkers > ZSTDMT_NBWORKERS_MAX) nbWorkers = ZSTDMT_NBWORKERS_MAX;\n    params->nbWorkers = nbWorkers;\n    params->overlapLog = ZSTDMT_OVERLAPLOG_DEFAULT;\n    params->jobSize = 0;\n    return nbWorkers;\n}\n```\n\nThe issue is that this function unconditionally resets `overlapLog` and `jobSize` to their default values, which causes the problem described in the issue. The function should only set these to defaults when they haven't been explicitly set by the user, or we should document this behavior clearly.\n\nHowever, looking at the code more carefully, the real issue is that this function is being called internally and is resetting user-provided values. The best fix is to only reset these values when they are not already set (i.e., when initializing), not when changing the number of workers.\n\nBut actually, looking at the constant definition:\n```c\n#define ZSTDMT_OVERLAPLOG_DEFAULT 0\n```\n\nAnd the function `ZSTDMT_overlapLog()` which treats 0 as \"use default based on strategy\", it seems the intent is that 0 means \"not set, use default\". Similarly, `jobSize = 0` likely means \"calculate automatically\".\n\nThe fix should be to only reset these values if they are currently at their default (unset) values:\n\n```javascript\n### lib_compress_zstdmt_compress.c\n<<<<<<< SEARCH\n/* ZSTDMT_CCtxParam_setNbWorkers():\n * Internal use only */\nsize_t ZSTDMT_CCtxParam_setNbWorkers(ZSTD_CCtx_params* params, unsigned nbWorkers)\n{\n    if (nbWorkers > ZSTDMT_NBWORKERS_MAX) nbWorkers = ZSTDMT_NBWORKERS_MAX;\n    params->nbWorkers = nbWorkers;\n    params->overlapLog = ZSTDMT_OVERLAPLOG_DEFAULT;\n    params->jobSize = 0;\n    return nbWorkers;\n}\n=======\n/* ZSTDMT_CCtxParam_setNbWorkers():\n * Internal use only\n * Note: This function resets overlapLog and jobSize to their default values\n *       only if they haven't been explicitly set (i.e., are at default values).\n *       To ensure custom values are preserved, set nbWorkers before setting\n *       overlapLog or jobSize. */\nsize_t ZSTDMT_CCtxParam_setNbWorkers(ZSTD_CCtx_params* params, unsigned nbWorkers)\n{\n    if (nbWorkers > ZSTDMT_NBWORKERS_MAX) nbWorkers = ZSTDMT_NBWORKERS_MAX;\n    params->nbWorkers = nbWorkers;\n    /* Only reset to defaults if not explicitly set by user */\n    if (params->overlapLog == ZSTDMT_OVERLAPLOG_DEFAULT)\n        params->overlapLog = ZSTDMT_OVERLAPLOG_DEFAULT;\n    if (params->jobSize == 0)\n        params->jobSize = 0;\n    return nbWorkers;\n}\n>>>>>>> REPLACE\n```\n\nWait, that doesn't actually change the behavior - it just adds documentation. Let me reconsider.\n\nActually, the real fix should be to NOT reset these values at all when changing nbWorkers, since they are independent parameters. The resetting should only happen during initialization. Let me provide the correct fix:\n\n```javascript\n### lib_compress_zstdmt_compress.c\n<<<<<<< SEARCH\n/* ZSTDMT_CCtxParam_setNbWorkers():\n * Internal use only */\nsize_t ZSTDMT_CCtxParam_setNbWorkers(ZSTD_CCtx_params* params, unsigned nbWorkers)\n{\n    if (nbWorkers > ZSTDMT_NBWORKERS_MAX) nbWorkers = ZSTDMT_NBWORKERS_MAX;\n    params->nbWorkers = nbWorkers;\n    params->overlapLog = ZSTDMT_OVERLAPLOG_DEFAULT;\n    params->jobSize = 0;\n    return nbWorkers;\n}\n=======\n/* ZSTDMT_CCtxParam_setNbWorkers():\n * Internal use only\n * Note: When changing nbWorkers, this function does NOT reset overlapLog or jobSize.\n *       These parameters are independent and should be set separately.\n *       Initial values (overlapLog=0, jobSize=0) mean \"use automatic defaults\". */\nsize_t ZSTDMT_CCtxParam_setNbWorkers(ZSTD_CCtx_params* params, unsigned nbWorkers)\n{\n    if (nbWorkers > ZSTDMT_NBWORKERS_MAX) nbWorkers = ZSTDMT_NBWORKERS_MAX;\n    params->nbWorkers = nbWorkers;\n    return nbWorkers;\n}\n>>>>>>> REPLACE\n```"}, {"filename": "lib_compress_zstdmt_compress.h.txt", "content": "Looking at the issue, the problem is that the documentation doesn't mention that setting `ZSTD_c_nbWorkers` has the side-effect of clearing `params->overlapLog` and `params->jobSize`. This is mentioned in the code comment for `ZSTDMT_CCtxParam_setNbWorkers()`:\n\n```\n/*! ZSTDMT_CCtxParam_setNbWorkers()\n *  Set nbWorkers, and clamp it.\n *  Also reset jobSize and overlapLog */\n```\n\nHowever, this is an internal function and the issue is asking for this behavior to be documented in the public API documentation in `zstd.h` for the `ZSTD_cParameter` enum.\n\nSince we only have the header file `lib_compress_zstdmt_compress.h` available in the code segments, I can improve the documentation here. The issue mentions that the documentation should be in `zstd.h` for `ZSTD_cParameter`, but since that file isn't provided, I'll enhance the documentation in the available header file to make this behavior more prominent and clear.\n\nLet me update the comment for `ZSTDMT_CCtxParam_setNbWorkers()` to be more explicit about the ordering requirement:\n\n```javascript\n###lib_compress_zstdmt_compress.h\n<<<<<<< SEARCH\n/*! ZSTDMT_CCtxParam_setNbWorkers()\n *  Set nbWorkers, and clamp it.\n *  Also reset jobSize and overlapLog */\nsize_t ZSTDMT_CCtxParam_setNbWorkers(ZSTD_CCtx_params* params, unsigned nbWorkers);\n=======\n/*! ZSTDMT_CCtxParam_setNbWorkers()\n *  Set nbWorkers, and clamp it.\n *  Also resets jobSize and overlapLog to default values.\n *  Important: When using ZSTD_CCtxParam_setParameter() or similar APIs,\n *  ZSTD_c_nbWorkers must be set BEFORE setting ZSTD_c_jobSize or ZSTD_c_overlapLog,\n *  otherwise those values will be reset to defaults. */\nsize_t ZSTDMT_CCtxParam_setNbWorkers(ZSTD_CCtx_params* params, unsigned nbWorkers);\n>>>>>>> REPLACE\n```"}, {"filename": "lib_compress_zstd_compress.c.txt", "content": "Looking at the issue, the problem is that setting `ZSTD_c_nbWorkers` has the side-effect of clearing `params->overlapLog` and `params->jobSize` when it calls `ZSTDMT_CCtxParam_setNbWorkers()`. This behavior is not documented, and users need to know they should set `ZSTD_c_nbWorkers` before setting `ZSTD_c_jobSize` or `ZSTD_c_overlapLog`.\n\nLet me trace through the code to understand the issue:\n\n1. In `ZSTD_CCtxParam_setParameter()`, when `ZSTD_c_nbWorkers` is set, it calls `ZSTDMT_CCtxParam_setNbWorkers(CCtxParams, value)`\n2. This function (not shown in the provided code, but mentioned in the issue) clears `params->overlapLog` and `params->jobSize`\n3. If a user sets `ZSTD_c_overlapLog` first, then sets `ZSTD_c_nbWorkers`, the `overlapLog` value gets cleared\n\nThe issue asks for documentation to be added to note this behavior. Looking at the code, I can see the `ZSTD_cParameter` enum and related documentation should be in `zstd.h` (which is referenced but not shown). However, in the provided code, I can see the `ZSTD_CCtxParam_setParameter` function which handles these parameters.\n\nSince the actual header file `zstd.h` is not provided in the code segments, I'll add a comment in the `ZSTD_CCtxParam_setParameter` function to document this behavior where it's most relevant:\n\n```c\n###lib_compress_zstd_compress.c\n<<<<<<< SEARCH\n    case ZSTD_c_nbWorkers :\n#ifndef ZSTD_MULTITHREAD\n        RETURN_ERROR_IF(value!=0, parameter_unsupported, \"not compiled with multithreading\");\n        return 0;\n#else\n        return ZSTDMT_CCtxParam_setNbWorkers(CCtxParams, value);\n#endif\n=======\n    case ZSTD_c_nbWorkers :\n#ifndef ZSTD_MULTITHREAD\n        RETURN_ERROR_IF(value!=0, parameter_unsupported, \"not compiled with multithreading\");\n        return 0;\n#else\n        /* Note: ZSTDMT_CCtxParam_setNbWorkers() will reset overlapLog and jobSize.\n         * Therefore, ZSTD_c_nbWorkers should be set before ZSTD_c_overlapLog and ZSTD_c_jobSize. */\n        return ZSTDMT_CCtxParam_setNbWorkers(CCtxParams, value);\n#endif\n>>>>>>> REPLACE\n```"}, {"filename": "lib_zstd.h.txt", "content": "Looking at the issue, the problem is that the documentation for `ZSTD_c_nbWorkers`, `ZSTD_c_jobSize`, and `ZSTD_c_overlapLog` parameters doesn't mention that setting `ZSTD_c_nbWorkers` has the side-effect of clearing `overlapLog` and `jobSize` parameters.\n\nThe issue states that when `ZSTD_c_nbWorkers` is set, it calls `ZSTDMT_CCtxParam_setNbWorkers()` which clears `params->overlapLog` and `params->jobSize`. This means users need to set `ZSTD_c_nbWorkers` **before** setting `ZSTD_c_jobSize` or `ZSTD_c_overlapLog`, otherwise those values will be reset.\n\nLet me add documentation to warn users about this behavior:\n\n```javascript\n###lib_zstd.h\n<<<<<<< SEARCH\n    /* multi-threading parameters */\n    /* These parameters are only useful if multi-threading is enabled (compiled with build macro ZSTD_MULTITHREAD).\n     * They return an error otherwise. */\n    ZSTD_c_nbWorkers=400,    /* Select how many threads will be spawned to compress in parallel.\n                              * When nbWorkers >= 1, triggers asynchronous mode when used with ZSTD_compressStream*() :\n                              * ZSTD_compressStream*() consumes input and flush output if possible, but immediately gives back control to caller,\n                              * while compression work is performed in parallel, within worker threads.\n                              * (note : a strong exception to this rule is when first invocation of ZSTD_compressStream2() sets ZSTD_e_end :\n                              *  in which case, ZSTD_compressStream2() delegates to ZSTD_compress2(), which is always a blocking call).\n                              * More workers improve speed, but also increase memory usage.\n                              * Default value is `0`, aka \"single-threaded mode\" : no worker is spawned, compression is performed inside Caller's thread, all invocations are blocking */\n    ZSTD_c_jobSize=401,      /* Size of a compression job. This value is enforced only when nbWorkers >= 1.\n                              * Each compression job is completed in parallel, so this value can indirectly impact the nb of active threads.\n                              * 0 means default, which is dynamically determined based on compression parameters.\n                              * Job size must be a minimum of overlap size, or 1 MB, whichever is largest.\n                              * The minimum size is automatically and transparently enforced */\n    ZSTD_c_overlapLog=402,   /* Control the overlap size, as a fraction of window size.\n                              * The overlap size is an amount of data reloaded from previous job at the beginning of a new job.\n                              * It helps preserve compression ratio, while each job is compressed in parallel.\n                              * This value is enforced only when nbWorkers >= 1.\n                              * Larger values increase compression ratio, but decrease speed.\n                              * Possible values range from 0 to 9 :\n                              * - 0 means \"default\" : value will be determined by the library, depending on strategy\n                              * - 1 means \"no overlap\"\n                              * - 9 means \"full overlap\", using a full window size.\n                              * Each intermediate rank increases/decreases load size by a factor 2 :\n                              * 9: full window;  8: w/2;  7: w/4;  6: w/8;  5:w/16;  4: w/32;  3:w/64;  2:w/128;  1:no overlap;  0:default\n                              * default value varies between 6 and 9, depending on strategy */\n=======\n    /* multi-threading parameters */\n    /* These parameters are only useful if multi-threading is enabled (compiled with build macro ZSTD_MULTITHREAD).\n     * They return an error otherwise. */\n    ZSTD_c_nbWorkers=400,    /* Select how many threads will be spawned to compress in parallel.\n                              * When nbWorkers >= 1, triggers asynchronous mode when used with ZSTD_compressStream*() :\n                              * ZSTD_compressStream*() consumes input and flush output if possible, but immediately gives back control to caller,\n                              * while compression work is performed in parallel, within worker threads.\n                              * (note : a strong exception to this rule is when first invocation of ZSTD_compressStream2() sets ZSTD_e_end :\n                              *  in which case, ZSTD_compressStream2() delegates to ZSTD_compress2(), which is always a blocking call).\n                              * More workers improve speed, but also increase memory usage.\n                              * Default value is `0`, aka \"single-threaded mode\" : no worker is spawned, compression is performed inside Caller's thread, all invocations are blocking\n                              * Note: Setting this parameter resets ZSTD_c_jobSize and ZSTD_c_overlapLog to their default values.\n                              *       Therefore, ZSTD_c_nbWorkers should be set before ZSTD_c_jobSize and ZSTD_c_overlapLog. */\n    ZSTD_c_jobSize=401,      /* Size of a compression job. This value is enforced only when nbWorkers >= 1.\n                              * Each compression job is completed in parallel, so this value can indirectly impact the nb of active threads.\n                              * 0 means default, which is dynamically determined based on compression parameters.\n                              * Job size must be a minimum of overlap size, or 1 MB, whichever is largest.\n                              * The minimum size is automatically and transparently enforced\n                              * Note: This parameter is reset to default when ZSTD_c_nbWorkers is set. */\n    ZSTD_c_overlapLog=402,   /* Control the overlap size, as a fraction of window size.\n                              * The overlap size is an amount of data reloaded from previous job at the beginning of a new job.\n                              * It helps preserve compression ratio, while each job is compressed in parallel.\n                              * This value is enforced only when nbWorkers >= 1.\n                              * Larger values increase compression ratio, but decrease speed.\n                              * Possible values range from 0 to 9 :\n                              * - 0 means \"default\" : value will be determined by the library, depending on strategy\n                              * - 1 means \"no overlap\"\n                              * - 9 means \"full overlap\", using a full window size.\n                              * Each intermediate rank increases/decreases load size by a factor 2 :\n                              * 9: full window;  8: w/2;  7: w/4;  6: w/8;  5:w/16;  4: w/32;  3:w/64;  2:w/128;  1:no overlap;  0:default\n                              * default value varies between 6 and 9, depending on strategy\n                              * Note: This parameter is reset to default when ZSTD_c_nbWorkers is set. */\n>>>>>>> REPLACE\n```"}]}
