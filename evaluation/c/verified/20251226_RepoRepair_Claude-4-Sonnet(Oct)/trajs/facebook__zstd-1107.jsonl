{"instance_id": "facebook__zstd-1107", "rag_files": [{"filename": "1107.txt", "content": "repo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_CCtxParams.init.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v05.c_ZBUFFv05.freeDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_CCtx.getParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_destroyCond.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_compress.c_ZSTD_createCStream_advanced_ZSTD_customMem.customMem.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_resetCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress_internal.h_ZSTD.getCParamsFromCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_initCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD_estimateCStreamSize_advanced.usingCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_COVER_ctx.destroy.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_compress.c_ZSTD.resetSeqStore.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v07.c_ZBUFFv07.freeDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v03.c_ZSTDv03.resetDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_setRemoveSrcFile.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_decompress.c_ZSTD.limitCopy.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_decompress.c_ZSTD.freeDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_COVER.optimizeTrainFromBuffer.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD.resetCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_freeFileCompressionResources.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_CCtx.reset.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD.freeCStream.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_initCStream.srcSize.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress_internal.h_ZSTD_initCStream.internal.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD.getParamsFromCCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v01.c_ZSTD.copy4.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_decompress.c_ZSTD.resetDStream.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_programs_zstdcli.c.waitEnter.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v04.c_ZSTD_createDCtx.void.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD.continueCCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v03.c_ZSTD.wildcopy.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTDMT_sizeof.CCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_COVER_map.destroy.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_DCtx.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v02.c_ZSTD_createDCtx.void.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_resetErr.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v02.c_ZSTD_CCtx.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v04.h_ZSTDv04.resetDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v06.c_ZBUFFv06.freeDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_zstd_internal.h_ZSTD.freeCCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v02.c_ZSTDv02.resetDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_compress.c_ZSTD.resetCStream.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_decompress.c_ZSTD.freeDStream.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.h_ZSTDMT.resetCStream.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_compress.c_ZSTD.copyCCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zlibWrapper_gzlib.c.gzclearerr.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_huf.h_HUF_readDTableX2.wksp.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_programs_fileio.c.resetError.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD_CCtxParams.reset.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_compress.c_ZSTD.freeCDict.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_compress.c_ZSTD_compressBegin.internal.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v03.c_ZSTD.resetDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_CCtx_params.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_DCtx.refPrefix.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.h_ZSTD_CCtx.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD_resetCCtx.advanced.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v03.h_ZSTDv03.resetDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_ZWRAP_deflateReset.keepDict.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_decompress.c_ZSTD.resetDStream.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v02.h_ZSTDv02.resetDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_flushStream.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTDMT_getCCtx_ZSTDMT_CCtxPool.pool.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD_createCCtxParams_advanced_ZSTD_customMem.customMem.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD_initCCtxParams.advanced.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_DCtx.reset.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_compress.c_ZSTD_compressBlock_btopt.extDict.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD_CCtx.refPrefix.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_decompress.c_decode_seq.table.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_compress.c_ZSTD_compressContinue.internal.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_fse.h_FSE.decodeSymbolFast.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_linux_zstd.h_ZSTD.decompressBegin.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_XXH64.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTDMT.freeJobsTable.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_CCtxParams.reset.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_compress.c_ZSTD_initCStream_usingCDict_const_ZSTD_CDict_cdict_unsigned_long_long_pledgedSrcSize_void_workspace_size_t.workspaceSize.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD.freeCCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD_CCtx.setParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_createCCtx_advanced_ZSTD_customMem.customMem.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v03.c_ZSTD.isError.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_compress.c_ZSTD_compressBegin.advanced.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD_resetCStream.internal.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v04.c_ZBUFFv04.recommendedDOutSize.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_CCtx.setParametersUsingCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_compress.c_ZSTD_resetCCtx.advanced.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_copyCCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_decompress.c_ZSTD_DCtx.reset.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_resetCStream.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD.startNewCompression.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_freeCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD_CCtx.setParametersUsingCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v07.c_ZSTDv07.copyDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_initCCtxParams.advanced.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD.resetCStream.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD_compressBegin.internal.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_linux_zstd.h_ZSTD.resetCStream.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v04.c_ZSTDv04.resetDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_CCtxParams_init.advanced.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v02.c_ZSTD.freeDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_decompress.generic.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_initStaticCStream_void_workspace_size_t.workspaceSize.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_estimateDStreamSize.fromFrame.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTDMT_updateCParams.whileCompressing.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v02.c_ZSTD.resetDCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v05.c_ZSTDv05.decompressContinue.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_setOverlapLog.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_decompress.c_ZSTD_DCtx_refPrefix.advanced.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_setCCtxParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_decompress.c_FSE_peek.symbol.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v06.c_ZSTDv06_frameHeaderSize.max.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_programs_fileio.c.params.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v06.c_ZSTDv06.copy8.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_CCtxParam.setParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_cctx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress_test.c_zstd_compress_test.open.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_compress.c_ZSTD.getParamsFromCCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v01.c_ZSTDv01.isError.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_freeCCtx.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_freeFileList.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v05.c_ZBUFFv05.decompressInit.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_resetDStream.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD_createCCtx.void.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_dstCapacity.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_decompress.c_ZSTD.getDecompressedSize.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_setNbSeconds.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_linux_zstd.h_ZSTD.resetDStream.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD_CCtxParam.setParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_CCtx.setParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD.freeCCtxParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_initCStream.advanced.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD.makeCCtxParamsFromCParams.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_zstd_zstd_internal.h_ZSTD.freeDDict.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.c_ZSTD_CCtx.reset.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_decompress.c_ZSTD_DCtx.refPrefix.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_decompressBegin.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_decompress.c_ZSTD.limitCopy.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_BIT.flushBitsFast.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_internal.h_ZSTD_CCtx_params.s.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_CCtxParam.getParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v04.c_ZBUFF.decompressInit.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_compress.h_ZSTDMT_CCtxParam.setMTCtxParameter.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_linux_zstd.h_ZSTD.CCtxWorkspaceBound.txt\nrepo_document_file\\c\\facebook\\zstd\\1107\\c_facebook_zstd_1107_v04.c_ZSTD.resetDCtx.txt"}], "buggy_files": [{"filename": "1107.txt", "content": "Looking at the GitHub problem description, I need to identify the issue and find the relevant files to fix it.\n\n## 1. Wrong Behavior Identified\n\nThe documentation for `ZSTD_CCtx_reset()` in `zstd.h` states \"All parameters are back to default values,\" but the actual implementation in `zstd_compress.c` only resets:\n- Internal stream stage (`streamStage`)\n- Pledged source size (`pledgedSrcSizePlusOne`) \n- Dictionary (`cdict`)\n\nThe `ZSTD_CCtx_params` structure is NOT reset to defaults, which contradicts the documentation and causes confusion for users.\n\n## 2. Cause Analysis\n\nThis is a documentation inconsistency issue where:\n- The header file documentation promises that \"All parameters are back to default values\"\n- The actual implementation only resets specific internal state variables\n- The compression parameters (`ZSTD_CCtx_params`) remain unchanged\n\nThis mismatch between documentation and implementation leads to user confusion about what gets reset.\n\n## 3. Most Related Files\n\nBased on the repository information and the problem description, here are the files that need to be edited to fix this issue:\n\n```\nlib/zstd.h\nlib/compress/zstd/compress.c\n```\n\nThe fix would involve either:\n1. Updating the documentation in `lib/zstd.h` to accurately reflect what actually gets reset, OR\n2. Modifying the implementation in `lib/compress/zstd/compress.c` to actually reset all parameters to match the documentation\n\nThe most likely and safest approach would be to clarify the documentation to specify exactly which parameters are reset and which are preserved."}], "repair_results": [{"filename": "lib_compress_zstd_compress.c.txt", "content": "Looking at the issue, the problem is that the documentation for `ZSTD_CCtx_reset()` in `zstd.h` states \"All parameters are back to default values\", but the implementation in `zstd_compress.c` only resets the stream stage, pledged source size, and dictionary - it does NOT reset the `ZSTD_CCtx_params`.\n\nThe issue reporter is asking for clarification in the documentation about which parameters are actually reset. Looking at the code:\n\n```c\nstatic void ZSTD_startNewCompression(ZSTD_CCtx* cctx)\n{\n    cctx->streamStage = zcss_init;\n    cctx->pledgedSrcSizePlusOne = 0;\n}\n\n/*! ZSTD_CCtx_reset() :\n *  Also dumps dictionary */\nvoid ZSTD_CCtx_reset(ZSTD_CCtx* cctx)\n{\n    ZSTD_startNewCompression(cctx);\n    cctx->cdict = NULL;\n}\n```\n\nThe function only resets:\n1. `streamStage` to `zcss_init`\n2. `pledgedSrcSizePlusOne` to 0\n3. `cdict` to NULL\n\nIt does NOT reset `cctx->requestedParams` or any other compression parameters.\n\nThe fix is to update the comment in the implementation to clarify what is actually reset:\n\n```javascript\n###lib_compress_zstd_compress.c\n<<<<<<< SEARCH\n/*! ZSTD_CCtx_reset() :\n *  Also dumps dictionary */\nvoid ZSTD_CCtx_reset(ZSTD_CCtx* cctx)\n{\n    ZSTD_startNewCompression(cctx);\n    cctx->cdict = NULL;\n}\n=======\n/*! ZSTD_CCtx_reset() :\n *  Return a CCtx to clean state.\n *  Useful after an error, or to interrupt an ongoing compression job and start a new one.\n *  Any internal data not yet flushed is cancelled.\n *  Dictionary (if any) is dropped.\n *  Parameters (compression level, frame parameters, etc.) are NOT reset and remain as previously set.\n *  It's possible to modify compression parameters after a reset.\n */\nvoid ZSTD_CCtx_reset(ZSTD_CCtx* cctx)\n{\n    ZSTD_startNewCompression(cctx);\n    cctx->cdict = NULL;\n}\n>>>>>>> REPLACE\n```\n\nThis clarifies that:\n1. The stream state is reset (internal data not yet flushed is cancelled)\n2. The dictionary is dropped\n3. **Compression parameters are NOT reset** - they remain as previously set\n4. Parameters can still be modified after reset (which was already mentioned but is now clearer in context)"}, {"filename": "lib_zstd.h.txt", "content": "Looking at the issue, the problem is with the documentation for `ZSTD_CCtx_reset()`. The issue states that the documentation says \"All parameters are back to default values\" but the actual implementation only resets:\n1. Internal stream stage\n2. Pledged source size\n3. Dictionary (cdict)\n\nThe `ZSTD_CCtx_params` are NOT reset, which contradicts the documentation.\n\nLet me find the `ZSTD_CCtx_reset()` documentation in the provided code:\n\n```javascript\n### lib_zstd.h\n<<<<<<< SEARCH\n/*! ZSTD_CCtx_reset() :\n *  Return a CCtx to clean state.\n *  Useful after an error, or to interrupt an ongoing compression job and start a new one.\n *  Any internal data not yet flushed is cancelled.\n *  Dictionary (if any) is dropped.\n *  All parameters are back to default values (compression level is ZSTD_CLEVEL_DEFAULT).\n *  After a reset, all compression parameters can be modified again.\n */\nZSTDLIB_API void ZSTD_CCtx_reset(ZSTD_CCtx* cctx);\n=======\n/*! ZSTD_CCtx_reset() :\n *  Return a CCtx to clean state.\n *  Useful after an error, or to interrupt an ongoing compression job and start a new one.\n *  Any internal data not yet flushed is cancelled.\n *  Dictionary (if any) is dropped.\n *  Parameters set using the advanced API (ZSTD_CCtx_setParameter(), etc.) are not reset\n *  and remain active. Only internal state (stream stage, pledged source size) is reset.\n *  After a reset, compression parameters can still be modified.\n */\nZSTDLIB_API void ZSTD_CCtx_reset(ZSTD_CCtx* cctx);\n>>>>>>> REPLACE\n```"}]}
