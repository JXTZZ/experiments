--- a/src/libponyc/expr/reference.c
+++ b/src/libponyc/expr/reference.c
@@ -655,14 +655,16 @@
     if((ast_id(parent) == TK_DOT) && (ast_child(parent) == ast))
     {
       ast_t* def = (ast_t*)ast_data(ast);
-      pony_assert(def != NULL);
-
-      switch(ast_id(def))
-      {
-        case TK_FVAR:
-        case TK_FLET:
-        case TK_EMBED: incomplete_ok = true; break;
-        default: {}
+
+      if(def != NULL)
+      {
+        switch(ast_id(def))
+        {
+          case TK_FVAR:
+          case TK_FLET:
+          case TK_EMBED: incomplete_ok = true; break;
+          default: {}
+        }
       }
     }
 
