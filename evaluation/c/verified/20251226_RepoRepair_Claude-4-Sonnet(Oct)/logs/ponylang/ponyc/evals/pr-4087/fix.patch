--- a/src/libponyc/ast/ast.c
+++ b/src/libponyc/ast/ast.c
@@ -805,9 +805,9 @@
     set_scope_and_parent(type, ast);
   }
 
-  if((ast->annotation_type != NULL) &&
-    (ast_id(ast->annotation_type) == TK_ANNOTATION))
-    ast->annotation_type->annotation_type = type;
+  ast_t* annotation = ast->annotation_type;
+  if((annotation != NULL) && (ast_id(annotation) == TK_ANNOTATION))
+    annotation->annotation_type = type;
   else
     ast->annotation_type = type;
 

--- a/src/libponyc/pass/syntax.c
+++ b/src/libponyc/pass/syntax.c
@@ -646,8 +646,9 @@
   pony_assert(ast_id(ast) == TK_FFICALL);
   ast_result_t r = AST_OK;
 
-  if (ast_id(opt->check.frame->method) == TK_BE ||
-    ast_id(opt->check.frame->method )== TK_FUN)
+  if (opt->check.frame->method != NULL &&
+    (ast_id(opt->check.frame->method) == TK_BE ||
+    ast_id(opt->check.frame->method) == TK_FUN))
   {
     ast_t* parent = ast_parent(ast);
     switch(ast_id(opt->check.frame->method))
