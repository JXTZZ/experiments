--- a/src/libponyc/type/assemble.c
+++ b/src/libponyc/type/assemble.c
@@ -216,7 +216,10 @@
   {
     // The new branch is a literal
     if(control_type == NULL)
+    {
       control_type = ast_from(branch, TK_LITERAL);
+      ast_settype(control_type, NULL);
+    }
 
     if(ast_id(control_type) != TK_LITERAL)
     {
@@ -239,8 +242,8 @@
     {
       // The branch's literal type has a non-literal component
       ast_t* non_literal_type = ast_type(control_type);
-      ast_settype(control_type, type_union(opt, non_literal_type,
-        branch_non_lit));
+      non_literal_type = type_union(opt, non_literal_type, branch_non_lit);
+      ast_settype(control_type, non_literal_type);
     }
 
     return control_type;
