--- a/src/libponyc/type/typeparam.c
+++ b/src/libponyc/type/typeparam.c
@@ -331,10 +331,16 @@
     case TK_NOMINAL:
       return cap_single(type);
 
+    case TK_TUPLETYPE:
+    case TK_ARROW:
+      // Tuples and arrows can't be used as constraints.
+      // Return TK_CAP_ANY instead of asserting to avoid crashes.
+      return TK_CAP_ANY;
+
     default: {}
   }
 
-  // Tuples and arrows can't be used as constraints.
+  // Unknown type in constraint.
   pony_assert(0);
   return TK_NONE;
 }
